import React, {FC} from "react";
import style from './Header.module.scss';
import Container from "../Container/Container";
import Link from "next/link";
import HeaderSearch from "@/components/Header/HeaderSearch/HeaderSearch";
import {useAuth} from "@/hooks/useAuth";
import HeaderCatalog from "@/components/Header/HeaderCatalog/HeaderCatalog";
import Logo from "@/components/Logo/Logo";
import {useDOMLoaded} from "@/hooks/useDOMLoaded";


export enum headerTypes {
    withoutBottom = "withoutBottom",
    auth = "auth"
}

interface HeaderProps {
    type?: headerTypes
}

const Header: FC<HeaderProps> = ({type}) => {
    let isRender = false;
    if (type === headerTypes.auth) isRender = true;

    const {user} = useAuth();

    const domLoaded = useDOMLoaded();

    return (
        <>
            <header className={style.header}>
                <Container className={style.container}>
                    <div className={style.top}>
                        <div className={style.left}>
                            <Logo/>
                            <HeaderCatalog/>

                            <div className={style.headerSearch_hidden}>
                                <HeaderSearch searchTerm="" placeholder="Искать на Oxygen" handleSearch={() => {
                                }}/>
                            </div>
                        </div>


                        {
                            domLoaded && <div className={style.links}>
                                <Link href="/profile" className={style.link}>
                                    <svg className={style.link__icon} width="24" height="24" viewBox="0 0 24 24"
                                         fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M12.12 13.53C12.1 13.53 12.07 13.53 12.05 13.53C12.02 13.53 11.98 13.53 11.95 13.53C9.67998 13.46 7.97998 11.69 7.97998 9.50998C7.97998 7.28998 9.78998 5.47998 12.01 5.47998C14.23 5.47998 16.04 7.28998 16.04 9.50998C16.03 11.7 14.32 13.46 12.15 13.53C12.13 13.53 12.13 13.53 12.12 13.53ZM12 6.96998C10.6 6.96998 9.46998 8.10998 9.46998 9.49998C9.46998 10.87 10.54 11.98 11.9 12.03C11.93 12.02 12.03 12.02 12.13 12.03C13.47 11.96 14.52 10.86 14.53 9.49998C14.53 8.10998 13.4 6.96998 12 6.96998Z"
                                        />
                                        <path
                                            d="M11.9998 22.7498C9.30984 22.7498 6.73984 21.7498 4.74984 19.9298C4.56984 19.7698 4.48984 19.5298 4.50984 19.2998C4.63984 18.1098 5.37984 16.9998 6.60984 16.1798C9.58984 14.1998 14.4198 14.1998 17.3898 16.1798C18.6198 17.0098 19.3598 18.1098 19.4898 19.2998C19.5198 19.5398 19.4298 19.7698 19.2498 19.9298C17.2598 21.7498 14.6898 22.7498 11.9998 22.7498ZM6.07984 19.0998C7.73984 20.4898 9.82984 21.2498 11.9998 21.2498C14.1698 21.2498 16.2598 20.4898 17.9198 19.0998C17.7398 18.4898 17.2598 17.8998 16.5498 17.4198C14.0898 15.7798 9.91984 15.7798 7.43984 17.4198C6.72984 17.8998 6.25984 18.4898 6.07984 19.0998Z"
                                        />
                                        <path
                                            d="M12 22.75C6.07 22.75 1.25 17.93 1.25 12C1.25 6.07 6.07 1.25 12 1.25C17.93 1.25 22.75 6.07 22.75 12C22.75 17.93 17.93 22.75 12 22.75ZM12 2.75C6.9 2.75 2.75 6.9 2.75 12C2.75 17.1 6.9 21.25 12 21.25C17.1 21.25 21.25 17.1 21.25 12C21.25 6.9 17.1 2.75 12 2.75Z"
                                        />
                                    </svg>

                                    <span className={style.link__title}>{user?.firstname}</span>
                                </Link>

                                <Link href="/orders" className={style.link}>
                                    <svg className={style.link__icon} width="24" height="24" viewBox="0 0 24 24"
                                         fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M12.0008 13.2999C11.8708 13.2999 11.7408 13.2699 11.6208 13.1999L2.79083 8.0899C2.43083 7.8799 2.31081 7.41987 2.52081 7.05987C2.73081 6.69987 3.18081 6.57985 3.55081 6.78985L12.0008 11.6799L20.4008 6.81988C20.7608 6.60988 21.2208 6.7399 21.4308 7.0899C21.6408 7.4499 21.5108 7.90987 21.1608 8.11987L12.3908 13.1999C12.2608 13.2599 12.1308 13.2999 12.0008 13.2999Z"
                                        />
                                        <path
                                            d="M12.001 22.36C11.591 22.36 11.251 22.02 11.251 21.61V12.54C11.251 12.13 11.591 11.79 12.001 11.79C12.411 11.79 12.751 12.13 12.751 12.54V21.61C12.751 22.02 12.411 22.36 12.001 22.36Z"
                                        />
                                        <path
                                            d="M12.0011 22.75C11.1211 22.75 10.2511 22.56 9.5611 22.18L4.2211 19.21C2.7711 18.41 1.64111 16.48 1.64111 14.82V9.16998C1.64111 7.50998 2.7711 5.59002 4.2211 4.78002L9.5611 1.82C10.9311 1.06 13.0711 1.06 14.4411 1.82L19.7811 4.78997C21.2311 5.58997 22.3611 7.51999 22.3611 9.17999V14.83C22.3611 16.49 21.2311 18.41 19.7811 19.22L14.4411 22.18C13.7511 22.56 12.8811 22.75 12.0011 22.75ZM12.0011 2.74999C11.3711 2.74999 10.7511 2.88 10.2911 3.13L4.95111 6.09997C3.99111 6.63997 3.14111 8.06999 3.14111 9.17999V14.83C3.14111 15.93 3.99111 17.37 4.95111 17.91L10.2911 20.88C11.2011 21.39 12.8011 21.39 13.7111 20.88L19.0511 17.91C20.0111 17.37 20.8611 15.94 20.8611 14.83V9.17999C20.8611 8.07999 20.0111 6.63997 19.0511 6.09997L13.7111 3.13C13.2511 2.88 12.6311 2.74999 12.0011 2.74999Z"
                                        />
                                        <path
                                            d="M17.0012 13.99C16.5912 13.99 16.2512 13.65 16.2512 13.24V10.0201L7.13116 4.76007C6.77116 4.55007 6.65114 4.09005 6.86114 3.74005C7.07114 3.38005 7.52116 3.26003 7.88116 3.47003L17.3712 8.95007C17.6012 9.08007 17.7512 9.33003 17.7512 9.60003V13.2601C17.7512 13.6501 17.4112 13.99 17.0012 13.99Z"
                                        />
                                    </svg>

                                    <span className={style.link__title}>Заказы</span>
                                </Link>

                                <Link href="/" className={style.link}>
                                    <svg className={style.link__icon} width="24" height="24" viewBox="0 0 24 24"
                                         fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M12 21.6501C11.69 21.6501 11.39 21.6101 11.14 21.5201C7.32 20.2101 1.25 15.5601 1.25 8.6901C1.25 5.1901 4.08 2.3501 7.56 2.3501C9.25 2.3501 10.83 3.0101 12 4.1901C13.17 3.0101 14.75 2.3501 16.44 2.3501C19.92 2.3501 22.75 5.2001 22.75 8.6901C22.75 15.5701 16.68 20.2101 12.86 21.5201C12.61 21.6101 12.31 21.6501 12 21.6501ZM7.56 3.8501C4.91 3.8501 2.75 6.0201 2.75 8.6901C2.75 15.5201 9.32 19.3201 11.63 20.1101C11.81 20.1701 12.2 20.1701 12.38 20.1101C14.68 19.3201 21.26 15.5301 21.26 8.6901C21.26 6.0201 19.1 3.8501 16.45 3.8501C14.93 3.8501 13.52 4.5601 12.61 5.7901C12.33 6.1701 11.69 6.1701 11.41 5.7901C10.48 4.5501 9.08 3.8501 7.56 3.8501Z"
                                        />
                                    </svg>

                                    <span className={style.link__title}>Избранное</span>
                                </Link>

                                <Link href="/cart" className={style.link}>
                                    <svg className={style.link__icon} width="24" height="24" viewBox="0 0 24 24"
                                         fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M5.18988 6.37994C4.99988 6.37994 4.79988 6.29994 4.65988 6.15994C4.36988 5.86994 4.36988 5.38994 4.65988 5.09994L8.28988 1.46994C8.57988 1.17994 9.05988 1.17994 9.34988 1.46994C9.63988 1.75994 9.63988 2.23994 9.34988 2.52994L5.71988 6.15994C5.56988 6.29994 5.37988 6.37994 5.18988 6.37994Z"
                                        />
                                        <path
                                            d="M18.8101 6.37994C18.6201 6.37994 18.4301 6.30994 18.2801 6.15994L14.6501 2.52994C14.3601 2.23994 14.3601 1.75994 14.6501 1.46994C14.9401 1.17994 15.4201 1.17994 15.7101 1.46994L19.3401 5.09994C19.6301 5.38994 19.6301 5.86994 19.3401 6.15994C19.2001 6.29994 19.0001 6.37994 18.8101 6.37994Z"
                                        />
                                        <path
                                            d="M20.21 10.6001C20.14 10.6001 20.07 10.6001 20 10.6001H19.77H4C3.3 10.6101 2.5 10.6101 1.92 10.0301C1.46 9.5801 1.25 8.8801 1.25 7.8501C1.25 5.1001 3.26 5.1001 4.22 5.1001H19.78C20.74 5.1001 22.75 5.1001 22.75 7.8501C22.75 8.8901 22.54 9.5801 22.08 10.0301C21.56 10.5501 20.86 10.6001 20.21 10.6001ZM4.22 9.1001H20.01C20.46 9.1101 20.88 9.1101 21.02 8.9701C21.09 8.9001 21.24 8.6601 21.24 7.8501C21.24 6.7201 20.96 6.6001 19.77 6.6001H4.22C3.03 6.6001 2.75 6.7201 2.75 7.8501C2.75 8.6601 2.91 8.9001 2.97 8.9701C3.11 9.1001 3.54 9.1001 3.98 9.1001H4.22Z"
                                        />
                                        <path
                                            d="M9.75977 18.3C9.34977 18.3 9.00977 17.96 9.00977 17.55V14C9.00977 13.59 9.34977 13.25 9.75977 13.25C10.1698 13.25 10.5098 13.59 10.5098 14V17.55C10.5098 17.97 10.1698 18.3 9.75977 18.3Z"
                                        />
                                        <path
                                            d="M14.3599 18.3C13.9499 18.3 13.6099 17.96 13.6099 17.55V14C13.6099 13.59 13.9499 13.25 14.3599 13.25C14.7699 13.25 15.1099 13.59 15.1099 14V17.55C15.1099 17.97 14.7699 18.3 14.3599 18.3Z"
                                        />
                                        <path
                                            d="M14.8902 22.7502H8.86024C5.28024 22.7502 4.48024 20.6202 4.17024 18.7702L2.76024 10.1202C2.69024 9.71024 2.97024 9.33024 3.38024 9.26024C3.79024 9.19024 4.17024 9.47024 4.24024 9.88024L5.65024 18.5202C5.94024 20.2902 6.54024 21.2502 8.86024 21.2502H14.8902C17.4602 21.2502 17.7502 20.3502 18.0802 18.6102L19.7602 9.86024C19.8402 9.45024 20.2302 9.18024 20.6402 9.27024C21.0502 9.35024 21.3102 9.74024 21.2302 10.1502L19.5502 18.9002C19.1602 20.9302 18.5102 22.7502 14.8902 22.7502Z"
                                        />
                                    </svg>

                                    <span className={style.link__title}>Корзина</span>
                                </Link>
                            </div>
                        }

                        <button className={style.searchButton}>
                            <svg width="16" height="16" viewBox="0 0 16 16"
                                 xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M6.66669 2.16669C9.42811 2.16669 11.6667 4.40526 11.6667 7.16669C11.6667 8.30679 11.2851 9.35776 10.6427 10.1989L13.8048 13.3619C14.0651 13.6223 14.0651 14.0444 13.8048 14.3048C13.5644 14.5451 13.1863 14.5636 12.9248 14.3602L12.8619 14.3048L9.69886 11.1427C8.85776 11.7851 7.80679 12.1667 6.66669 12.1667C3.90526 12.1667 1.66669 9.92811 1.66669 7.16669C1.66669 4.40526 3.90526 2.16669 6.66669 2.16669ZM6.66669 3.50002C4.64164 3.50002 3.00002 5.14164 3.00002 7.16669C3.00002 9.19173 4.64164 10.8334 6.66669 10.8334C8.69173 10.8334 10.3334 9.19173 10.3334 7.16669C10.3334 5.14164 8.69173 3.50002 6.66669 3.50002Z"
                                />
                            </svg>
                        </button>

                        {isRender && <Link href="/" className={style.back}>Назад на главную</Link>}
                    </div>

                    <div className={style.bottom}>
                        <HeaderSearch searchTerm="" placeholder="Искать на Oxygen" handleSearch={() => {
                        }}/>
                    </div>
                </Container>
            </header>
            <div className={`${style.search_bg} ${style.searchBg_active}`}></div>
        </>
    );
}

export default Header;